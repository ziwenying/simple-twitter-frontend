(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c18ec76"],{"735b":function(t,e,a){"use strict";a("9004")},9004:function(t,e,a){var s=a("cf1f");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("c2d53664",s,!0,{sourceMap:!1,shadowMode:!1})},be6c:function(t,e,a){"use strict";var s=a("2fa3");const i=()=>localStorage.getItem("token");e["a"]={tweets:{get(){return s["b"].get("/tweets",{headers:{Authorization:"Bearer "+i()}})},delete({tweetId:t}){return s["b"].delete("/admin/tweets/"+t,{headers:{Authorization:"Bearer "+i()}})}},users:{get(){return s["b"].get("/admin/users",{headers:{Authorization:"Bearer "+i()}})}}}},cf1f:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap);"]),e.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap);"]),e.push([t.i,"body[data-v-23462c5d]{margin:0;padding:0;font-family:Noto Sans TC,sans-serif}*[data-v-23462c5d]{box-sizing:border-box}h1[data-v-23462c5d],h2[data-v-23462c5d],h3[data-v-23462c5d],h4[data-v-23462c5d],h5[data-v-23462c5d],h6[data-v-23462c5d],p[data-v-23462c5d]{margin:0;padding:0}h1[data-v-23462c5d],h2[data-v-23462c5d]{font-weight:700}h3[data-v-23462c5d],h4[data-v-23462c5d],h5[data-v-23462c5d]{font-weight:medium}h1[data-v-23462c5d]{font-size:68px}h2[data-v-23462c5d]{font-size:42px}h3[data-v-23462c5d]{font-size:28px}h4[data-v-23462c5d]{font-size:24px}h5[data-v-23462c5d]{font-size:18px}li[data-v-23462c5d],ol[data-v-23462c5d],ul[data-v-23462c5d]{list-style:none;margin:0;padding:0}a[data-v-23462c5d],a[data-v-23462c5d]:focus,a[data-v-23462c5d]:hover{text-decoration:none}img[data-v-23462c5d]{width:100%;height:100%;display:block}.btn[data-v-23462c5d],a[data-v-23462c5d]:focus,button[data-v-23462c5d],button[data-v-23462c5d]:focus,input[data-v-23462c5d]:focus,select[data-v-23462c5d],select[data-v-23462c5d]:focus,textarea[data-v-23462c5d]:focus{outline:0!important}button[data-v-23462c5d]{background-color:transparent;border:0;cursor:pointer}button[disabled][data-v-23462c5d]{pointer-events:none}input[data-v-23462c5d]{padding:0}input[data-v-23462c5d]:invalid,input[data-v-23462c5d]:required{box-shadow:none}.d-none[data-v-23462c5d]{display:none}.tweets-list[data-v-23462c5d]{border-right:1px solid #e6ecf0;border-left:1px solid #e6ecf0;padding:0}.tweets-list .title[data-v-23462c5d]{font-size:24px;font-weight:700;color:#171725;padding-top:24px;padding-bottom:24px;padding-left:20px}.tweets-list .tweets[data-v-23462c5d]{display:flex;flex-direction:column;justify-content:center;border-top:1px solid #e6ecf0}.tweets-list .tweets .tweet[data-v-23462c5d]{display:flex;padding:16px 23px;position:relative;border-bottom:1px solid #e6ecf0}.tweets-list .tweets .tweet[data-v-23462c5d]:hover{background-color:#f1f1f5}.tweets-list .tweets .tweet .avatar[data-v-23462c5d]{height:50px;width:50px;border-radius:50%;margin-right:8px}.tweets-list .tweets .tweet .tweet-info[data-v-23462c5d]{display:flex;flex-direction:column}.tweets-list .tweets .tweet .tweet-info .tweet-detail>span[data-v-23462c5d]{font-size:16px;font-weight:700;color:#171725;margin-right:8px}.tweets-list .tweets .tweet .tweet-info .tweet-detail .account-created-time[data-v-23462c5d]{font-size:14px;font-weight:400;color:#6c757d}.tweets-list .tweets .tweet .tweet-info .tweet-text[data-v-23462c5d]{margin-right:0;margin-top:8px;padding-right:50px;color:#171725;font-size:16px;font-weight:400}.tweets-list .tweets .tweet .delete-btn[data-v-23462c5d]{position:absolute;right:5px;top:10px;height:16px;width:16px}",""]),t.exports=e},fa6a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"admin-tweets-wrapper row"},[e("Navbar",{staticClass:"col-2 pl-0"}),t.isLoading?e("Spinner",{staticClass:"col-10"}):e("AdminTweetsList",{staticClass:"col-10",attrs:{"initial-tweets":t.tweets},on:{"after-delete-tweet":t.afterTweetDelete}})],1)},i=[],d=(a("d9e2"),a("d178")),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tweets-list"},[e("h4",{staticClass:"title"},[t._v(" 推文清單 ")]),e("div",{staticClass:"tweets"},t._l(t.initialTweets,(function(a){return e("div",{key:a.id,staticClass:"tweet"},[e("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(a.User.avatar),alt:"avatar"}}),e("div",{staticClass:"tweet-info"},[e("div",{staticClass:"tweet-detail"},[e("span",{staticClass:"user-name"},[t._v(t._s(a.User.name))]),e("span",{staticClass:"account-created-time"},[t._v("@"+t._s(a.User.account)+"·"+t._s(t._f("fromNow")(a.createdAt)))])]),e("p",{staticClass:"tweet-text"},[t._v(t._s(t._f("onlyDisplay50Letters")(a.description)))])]),e("button",{staticClass:"delete-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleDeleteBtnClick(a.id)}}},[t._v("✕")])])})),0)])},n=[],r=a("2708"),c=a("2fa3"),l=a("be6c"),p={name:"AdminTweetsList",mixins:[r["c"],r["a"]],props:{initialTweets:{type:Array,required:!0}},methods:{async handleDeleteBtnClick(t){try{const{data:e}=await l["a"].tweets.delete({tweetId:t});if("error"===e.status)throw new Error(e.message);this.$emit("after-delete-tweet",t),c["a"].fire({icon:"success",title:"推文刪除成功"})}catch(e){console.error(e.message),c["a"].fire({icon:"error",title:"無法刪除此推文，請稍後再試"})}}},filters:{onlyDisplay50Letters(t){return t.length>50?t.slice(0,50)+"...":t}}},w=p,f=(a("735b"),a("2877")),v=Object(f["a"])(w,o,n,!1,null,"23462c5d",null),u=v.exports,h=a("2375"),g={name:"AdminTweets",components:{Navbar:d["a"],AdminTweetsList:u,Spinner:h["a"]},data(){return{tweets:[],isLoading:!0}},created(){this.fetchTweets()},methods:{async fetchTweets(){try{this.isLoading=!0;const{data:t}=await l["a"].tweets.get();if("error"===t.status)throw new Error(t.message);this.tweets=t,this.isLoading=!1}catch(t){this.isLoading=!1,console.error(t.message),c["a"].fire({icon:"error",title:"無法取得推文清單資料，請稍後再試"})}},afterTweetDelete(t){this.tweets=this.tweets.filter(e=>e.id!==t)}}},m=g,x=Object(f["a"])(m,s,i,!1,null,null,null);e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-6c18ec76.518d87db.js.map